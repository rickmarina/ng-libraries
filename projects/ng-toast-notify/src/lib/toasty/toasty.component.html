<div class="toasty-container" [ngClass]="containerClass()">
    @for (item of toasts$ | async; track item.id) {
    <div class="toasty-wrapper" [style.transform]="'translateX(' + (item.gesture?.offsetX || 0) + 'px)'"
        [style.transition]="item.gesture ? 'none' : 'transform 0.3s ease'">
        <div class="toasty" [attr.data-toast-id]="item.id" [ngClass]="item.type" [class.fadeout]="expires(item)"
            [ngStyle]="item.config?.customStyle">

            <!-- icon -->
            @if (item.config?.loading) {
            <div class="toasty-loading"></div>
            } @else if (item.type == ToastType.Success) {
            <div class="toasty-icon">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 shrink-0 stroke-current" fill="none"
                    viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
            </div>
            } @else if (item.type == ToastType.Error) {
            <div class="toasty-icon">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 shrink-0 stroke-current" fill="none"
                    viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
            </div>
            } @else if (item.type == ToastType.Info) {
            <div class="toasty-icon">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                    class="h-6 w-6 shrink-0 stroke-current">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
            </div>
            } @else if (item.type == ToastType.Warning) {
            <div class="toasty-icon">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 shrink-0 stroke-current" fill="none"
                    viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
                </svg>
            </div>
            } @else {
            <div class="toasty-noicon"></div>
            }

            <div class="toasty-content">
                @if (item.config?.type == ToastType.Component && item.config?.component) {
                <ng-container *ngComponentOutlet="item.config?.component ?? null; 
                                       inputs: item.config?.componentParams">
                </ng-container>
                } @else {
                @if (item.title) {
                <div class="toasty-header">
                    <strong class="toasty-title">{{item.title}}</strong>
                    @if (item.count > 1) {
                    <span class="toasty-badge">x{{item.count}}</span>
                    }
                    <!-- <small class="toasty-time">{{item.timestamp}}</small> -->
                </div>
                }
                @if (item.config?.enableHtml) {
                <div class="toasty-body" [innerHTML]="item.message"></div>
                } @else {
                <div class="toasty-body">{{item.message}}</div>
                }
                }
            </div>
            <div class="toasty-close">
                <button type="button" class="toasty-close" (click)="closeToast(item.id)">&times;</button>
            </div>
            @if (item.config?.progressBar) {
            <div class="toasty-progress" [class.animate]="item.animatePbar"
                [style.transition-duration.ms]="item.duration"></div>
            }
        </div>
    </div>
    }
</div>